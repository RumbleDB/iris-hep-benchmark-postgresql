-- Drop the table if it already exists
DROP TABLE IF EXISTS Run2012B_SingleMu;

-- Creates the `Run2012B_SingleMu` schema
CREATE TABLE  IF NOT EXISTS Run2012B_SingleMu (
	run  INTEGER,
	luminosityBlock  BIGINT,
	event  BIGINT,
	HLT_IsoMu24_eta2p  BOOLEAN,
	HLT_IsoMu24  BOOLEAN,
	HLT_IsoMu17_eta2p1_LooseIsoPFTau20  BOOLEAN,
	PV_npvs  INTEGER,
	PV_x  DOUBLE PRECISION,
	PV_y  DOUBLE PRECISION,
	PV_z  DOUBLE PRECISION,
	nMuon  BIGINT,
	nElectron  BIGINT,
	nTau  BIGINT,
	nPhoton  BIGINT,
	MET_pt  DOUBLE PRECISION,
	MET_phi  DOUBLE PRECISION,
	MET_sumet  DOUBLE PRECISION,
	MET_significance  DOUBLE PRECISION,
	MET_CovXX  DOUBLE PRECISION,
	MET_CovXY  DOUBLE PRECISION,
	MET_CovYY  DOUBLE PRECISION,
	nJet  BIGINT,
	Muon_pt  DOUBLE PRECISION [],
	Muon_eta  DOUBLE PRECISION [],
	Muon_phi  DOUBLE PRECISION [],
	Muon_mass  DOUBLE PRECISION [],
	Muon_charge  INTEGER [],
	Muon_pfRelIso03_all  DOUBLE PRECISION [],
	Muon_pfRelIso04_all  DOUBLE PRECISION [],
	Muon_tightId  BOOLEAN [],
	Muon_softId  BOOLEAN [],
	Muon_dxy  DOUBLE PRECISION [],
	Muon_dxyErr  DOUBLE PRECISION [],
	Muon_dz  DOUBLE PRECISION [],
	Muon_dzErr  DOUBLE PRECISION [],
	Muon_jetIdx  INTEGER [],
	Muon_genPartIdx  INTEGER [],
	Electron_pt  DOUBLE PRECISION [],
	Electron_eta  DOUBLE PRECISION [],
	Electron_phi  DOUBLE PRECISION [],
	Electron_mass  DOUBLE PRECISION [],
	Electron_charge  INTEGER [],
	Electron_pfRelIso03_all  DOUBLE PRECISION [],
	Electron_dxy  DOUBLE PRECISION [],
	Electron_dxyErr  DOUBLE PRECISION [],
	Electron_dz  DOUBLE PRECISION [],
	Electron_dzErr  DOUBLE PRECISION [],
	Electron_cutBasedId  BOOLEAN [],
	Electron_pfId  BOOLEAN [],
	Electron_jetIdx  INTEGER [],
	Electron_genPartIdx  INTEGER [],
	Tau_pt  DOUBLE PRECISION [],
	Tau_eta  DOUBLE PRECISION [],
	Tau_phi  DOUBLE PRECISION [],
	Tau_mass  DOUBLE PRECISION [],
	Tau_charge  INTEGER [],
	Tau_decayMode  INTEGER [],
	Tau_relIso_all  DOUBLE PRECISION [],
	Tau_jetIdx  INTEGER [],
	Tau_genPartIdx  INTEGER [],
	Tau_idDecayMode  BOOLEAN [],
	Tau_idIsoRaw  DOUBLE PRECISION [],
	Tau_idIsoVLoose  BOOLEAN [],
	Tau_idIsoLoose  BOOLEAN [],
	Tau_idIsoMedium  BOOLEAN [],
	Tau_idIsoTight  BOOLEAN [],
	Tau_idAntiEleLoose  BOOLEAN [],
	Tau_idAntiEleMedium  BOOLEAN [],
	Tau_idAntiEleTight  BOOLEAN [],
	Tau_idAntiMuLoose  BOOLEAN [],
	Tau_idAntiMuMedium  BOOLEAN [],
	Tau_idAntiMuTight  BOOLEAN [],
	Photon_pt  DOUBLE PRECISION [],
	Photon_eta  DOUBLE PRECISION [],
	Photon_phi  DOUBLE PRECISION [],
	Photon_mass  DOUBLE PRECISION [],
	Photon_charge  INTEGER [],
	Photon_pfRelIso03_all  DOUBLE PRECISION [],
	Photon_jetIdx  INTEGER [],
	Photon_genPartIdx  INTEGER [],
	Jet_pt  DOUBLE PRECISION [],
	Jet_eta  DOUBLE PRECISION [],
	Jet_phi  DOUBLE PRECISION [],
	Jet_mass  DOUBLE PRECISION [],
	Jet_puId  BOOLEAN [],
	Jet_btag  DOUBLE PRECISION []
);

-- Import the data into the DB
COPY Run2012B_SingleMu FROM '/home/dan/data/garbage/iris-hep-benchmark-postgresql/data/Run2012B_SingleMu-1000.csv' WITH (FORMAT csv, HEADER, ENCODING 'UTF-8');